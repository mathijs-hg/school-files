!function(r){r.su.modelManager.define("deviceNameModel",{type:"model",fields:[{name:"deviceName",mapping:"device_name",vtype:"string_visible_allow_blank",allowBlank:!1}],proxy:{url:r.su.url("/admin/cloud_account?form=get_deviceInfo")}}),r.su.modelManager.define("ipv6NetworkMap",{type:"model",fields:[{name:"mac"},{name:"ip"},{name:"wanIp",mapping:"wan_ip"}],convert:function(e){var n={};switch(e.wan.dial_type){case"lte":n.wan_ip=e.wan.mobile_cpe&&e.wan.mobile_cpe.ip}return n.ip=e.lan&&e.lan.ip,n},serialize:function(e){return delete e.wan_ip,e},proxy:"ipv6NetworkMapProxy"}),r.su.define("ipv6NetworkMapProxy",{extend:"IPFProxy",url:r.su.url("/admin/network?form=ipv6"),writeFilter:function(e){return e.params||(e.params={"device_mac":"default"}),e}}),r.su.modelManager.define("performanceM",{type:"model",fields:[{name:"cpuUsage",mapping:"cpu_usage"},{name:"memUsage",mapping:"mem_usage"}],convert:function(e){var n=r.extend({},e);return n.cpu_usage=parseInt(100*n.cpu_usage,10)+"%",n.mem_usage=parseInt(100*n.mem_usage,10)+"%",n},preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,proxy:{url:r.su.url("/admin/network?form=performance")}}),r.su.define("getFirmwareListProxy",{extend:"IPFProxy",url:r.su.url("/admin/device?form=device_list"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return r.extend({operation:"read"},e)}}),r.su.storeManager.define("treeStore",{type:"store",fields:[{name:"name"},{name:"branches"},{name:"modelImg"},{name:"role"},{name:"mac"},{name:"nickname"}],proxy:{url:r.su.url("/admin/folder_sharing?form=tree")},storeConvert:function(e){for(var n=this.getData(),r=0,a=n.length;r<a;r++)for(var t=0,i=n[r].branches.length;t<i;t++)e.path==n[r].branches[t].path&&(n[r].branches[t]=e);return n}})}(jQuery);