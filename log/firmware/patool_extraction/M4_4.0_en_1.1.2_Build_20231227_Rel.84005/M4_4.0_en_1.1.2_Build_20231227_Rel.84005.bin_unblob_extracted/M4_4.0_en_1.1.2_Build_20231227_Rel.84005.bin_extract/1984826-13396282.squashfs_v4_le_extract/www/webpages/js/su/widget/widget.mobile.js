!function(b){var e={combobox:{render:function(){var i=this,s=this.dom(),e=this.settings,t=!0===e.editable&&"single"===e.multiSelect?"":'readonly="true"',l=!1===e.labelField?" label-empty":"",a=e.readOnly?" readonly":"",n="single"===e.multiSelect?"":"multiple";s.addClass(e.cls+"combobox-container combobox-mobile "+e.multiSelect+l+a);var o="";null!==e.labelField&&(o+='<div class="widget-fieldlabel-wrap '+e.labelCls+'">',o+='<div class="widget-fieldlabel-inner">',o+='<label class="widget-fieldlabel combobox-fieldlabel">'+("false"===e.labelField?"":e.labelField)+"</label>",e.labelField&&(o+='<span class="widget-separator">'+e.separator+"</span>"),o+="</div>",o+="</div>"),o+='<div class="widget-wrap-outer combobox-wrap-outer">',o+='<div class="widget-wrap combobox-wrap">',o+='<span class="text-wrap-before"></span>',o+='<span class="combobox-wrap-inner">',e.widthAuto?o+='<span class="combobox-text '+e.inputCls+'" " >'+(e.noneSelectedRemind?e.noneSelectedText:"")+"</span>":o+='<input class="combobox-text '+e.inputCls+'" type="text" tabindex="-1" '+t+' value="'+(e.noneSelectedRemind?e.noneSelectedText:"")+'" />',o+='<select class="combobox-text '+e.inputCls+'" '+n+"></select>",o+="</span>",o+='<a class="combobox-switch" href="javascript:void(0);" tabindex="'+e.tabindex+'">',o+='<span class="icon"></span>',o+="</a>",o+='<div class="hidden combobox-lists"></div>',o+='<span class="text-wrap-after"></span>',o+="</div>",o+='<div widget="errortip" error-cls="'+e.errorTipsCls+'">',o+="</div>",null!=e.tips&&e.tips!=undefined&&(o+='<div class="widget-tips combobox-tips '+e.tipsCls+'">',o+='<div class="content tips-content">'+e.tips+"</div>",o+="</div>"),o+="</div>",e.tipText&&(o+='<div widget="toolTip"></div>'),s.append(o),e.items&&0<e.items.length&&this.loadItems(e.items),s.find("select").on("change",function(e){e.stopPropagation();var t=i.getValue();s.triggerHandler("ev_view_change",[{"type":"value","value":t}])}),s.find("select").on("change",function(){var e=b(this).val();i.setValue(e)})},loadItems:function(e){var t,i=this.dom(),s=this.settings,l=this.getContainer(),a=i.find("select");b.isArray(e)||(e=[]);for(var n="",o=0,d=(s.items=e).length;o<d;o++)if(e[o]){var r=e[o][s.displayField],c=e[o][s.valueField],p=e[o].disabled?"disabled":"";e[o].selected;n+='<option class="'+(e[o].cls||"")+'" '+p+' value="'+(this._dataMap[o]=c)+'" data-index="'+o+'">'+(this._displayMap[c]=r)+"</option>",e[o].selected&&(t=e[o][s.valueField])}a.html(n),t=t||a[0].value,this.setValue(t),0==e.length?l.addClass("none-items"):l.removeClass("none-items"),i.triggerHandler("ev_view_change",[{"type":"value","value":t}])},getText:function(){for(var e=this.getValue(),t=[],i=0,s=(e=b.isArray(e)?e:[e]).length;i<s;i++)t.push(this._displayMap[e[i]]);return t.join(",")},enable:function(){this.dom();var e=this.getContainer();e.removeClass("disabled"),e.find("select").prop("disabled",!1),e.triggerHandler("ev_view_enable")},disable:function(){var e=this.getContainer();e.addClass("disabled"),e.find("select").prop("disabled","disabled"),e.triggerHandler("ev_view_disable")},enableItems:function(e){this.toggleItems(e,!0)},disableItems:function(e){this.toggleItems(e,!1)},toggleItems:function(e,t){if(e===undefined)return this.disable();for(var i,s=this.dom(),l=0,a=(e=b.isArray(e)?e:[e]).length;l<a;l++)0<(i=s.find('select option[value="'+e[l]+'"]')).length&&(t?i.prop("disabled",!1):i.prop("disabled","disabled"))},setValue:function(e){var t,i,s=this.dom(),l=this.settings;e=b.isArray(e)?e:[e],s.find("select option").prop("selected",!1);for(var a=0,n=e.length;a<n;a++)s.find('select option[value="'+e[a]+'"]').prop("selected",!0);if(this._value=b.su.clone(e),"multiple"===l.multiSelect){t=[];for(var o=0;o<e.length;o++)i=this._displayMap[e[o]]||e[o],t.push(i);t=t.join(",")}else"single"===l.multiSelect&&(t=this._displayMap[e]||l.noneSelectedText);this.setText(t)},getValue:function(){var t=[],i=this,e=this.settings;return this.dom().find("select option:selected").each(function(){var e=b(this).attr("data-index");t.push(i._dataMap[e])}),"single"===e.multiSelect?t[0]:t},setText:function(e){var t=this.getContainer();this.settings.widthAuto?t.find("span.combobox-text").text("("+e+")"):t.find("input.combobox-text").val(e)}}};for(var t in e)e.hasOwnProperty(t)&&(b.extend(b.su.widgets[t].prototype,e[t]),b.extend(b.su.Widget.regMap[t],e[t]))}(jQuery);