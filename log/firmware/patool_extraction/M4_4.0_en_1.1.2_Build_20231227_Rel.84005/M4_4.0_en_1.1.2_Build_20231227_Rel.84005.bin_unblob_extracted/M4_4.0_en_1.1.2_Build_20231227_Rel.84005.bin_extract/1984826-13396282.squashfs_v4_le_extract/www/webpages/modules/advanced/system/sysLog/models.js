!function(o){o.su.modelManager.define("sysLogModel",{type:"model",fields:[{name:"level"}],proxy:"prepareLogProxy"}),o.su.define("prepareLogProxy",{extend:"IPFProxy",url:o.su.url("/admin/log_export?form=feedback_log"),writeFilter:function(e){return e.operation="build",e}}),o.su.modelManager.define("saveLogModel",{type:"model",fields:[{name:"from",vtype:"email",allowBlank:!1,minLength:6,maxLength:128},{name:"auth"},{name:"password",showLevel:!1,minLength:1,maxLength:32,vtype:"string_visible",allowBlank:!1},{name:"smtpServer",mapping:"smtp_server",allowBlank:!1,vtype:"string_ip_domain"},{name:"port",vtype:"port",allowBlank:!1},{name:"to",vtype:"email",allowBlank:!1,minLength:6,maxLength:128},{name:"autoMail",mapping:"auto_mail"},{name:"autoMailType",mapping:"auto_mail_type"},{name:"everyDayTime",mapping:"every_day_time"},{name:"everyHours",mapping:"every_hours",defaultValue:24,vtype:{vtype:"number",min:1,max:24}},{name:"mailAgain",mapping:"mail_again",defaultValue:3600}],convert:function(e){var a=o.extend({},e),n=parseInt(a.mail_again,10);if(isNaN(n))a.mail_again="";else{var r=Math.floor(n/3600),t=Math.floor(n%3600/60);a.mail_again=o.su.CHAR.SYSTEM_LOG.MAIL_AGAIN_TIME.replace("%hour%",r).replace("%minute%",t)}return a},proxy:{url:o.su.url("/admin/syslog?form=mail")}}),o.su.storeManager.define("logTypeStore",{type:"store",fields:[{name:"name"},{name:"value"}],proxy:{url:o.su.url("/admin/log_export?form=types")},convert:function(e){for(var a,n=0,r=e.length;n<r;n++)(a=o.su.CHAR.SYSTEM_LOG[e[n].name])&&(e[n].name=a);return e}}),o.su.storeManager.define("sysLogStore",{type:"store",fields:[{name:"time"},{name:"level"},{name:"type"},{name:"content"}],proxy:{url:o.su.url("/admin/log_export?form=feedback_log")},convert:function(e){return e.logList}}),o.su.storeManager.define("frequencyStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"selected"}],data:[{name:o.su.CHAR.SYSTEM_LOG.EVERY_DAY,value:"day_time",selected:!0},{name:o.su.CHAR.SYSTEM_LOG.AFTER_INTERVAL,value:"hours"}]}),o.su.define("sendMailProxy",{extend:"IPFProxy",url:o.su.url("/admin/syslog?form=log"),writeFilter:function(e){return o.extend({operation:"mail"},e)}}),o.su.define("saveLogProxy",{extend:"IPFProxy",api:{upload:{url:o.su.url("/admin/log_export?form=save_log"),data:{"operation":"save"}}}}),o.su.define("timeServiceProxy",{extend:"IPFProxy",url:o.su.url("/admin/device?form=timesetting"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,readFilter:function(e){return(e=e.result).hour24Enable="off",e}})}(jQuery);