<br />
<pre>longlong ubiutils_get_bytes(char *str)</pre>
<br />
<pre>{</pre>
<pre>  ulonglong uVar1;</pre>
<pre>  char cVar2;</pre>
<pre>  int iVar3;</pre>
<pre>  uint uVar4;</pre>
<pre>  char *__s1;</pre>
<pre>  ulonglong uVar5;</pre>
<pre>  char *endp;</pre>
<pre>  </pre>
<pre>  uVar5 = strtoull(str,&amp;endp,0);</pre>
<pre>  if ((endp == str) || ((longlong)uVar5 &lt; 0)) {</pre>
<pre>    fprintf(stderr,"incorrect amount of bytes: \"%s\"\n",str);</pre>
<pre>    uVar5 = 0xffffffffffffffff;</pre>
<pre>  }</pre>
<pre>  else {</pre>
<pre>    cVar2 = *endp;</pre>
<pre>    __s1 = endp;</pre>
<pre>    if (cVar2 != '\0') {</pre>
<pre>      while ((cVar2 == ' ' || (cVar2 == '\t'))) {</pre>
<pre><span class="green">        cVar2 = __s1[1]</span></span></pre>
<pre>        __s1 = __s1 + 1;</pre>
<pre>      }</pre>
<pre>      iVar3 = strcmp(__s1,"KiB");</pre>
<pre>      uVar4 = 0x400;</pre>
<pre>      if (iVar3 != 0) {</pre>
<pre>        iVar3 = strcmp(__s1,"MiB");</pre>
<pre>        uVar4 = 0x100000;</pre>
<pre>        if (iVar3 != 0) {</pre>
<pre>          iVar3 = strcmp(__s1,"GiB");</pre>
<pre>          uVar4 = 0x40000000;</pre>
<pre>          if (iVar3 != 0) {</pre>
<pre>            fprintf(stderr,"bad size specifier: \"%s\" - should be \'KiB\', \'MiB\' or \'GiB\'\n",</pre>
<pre>                    endp);</pre>
<pre>            return -1;</pre>
<pre>          }</pre>
<pre>        }</pre>
<pre>      }</pre>
<pre>      uVar1 = (uVar5 &amp; 0xffffffff) * (ulonglong)uVar4;</pre>
<pre>      uVar5 = uVar1 &amp; 0xffffffff |</pre>
<pre>              (ulonglong)((int)(uVar5 &gt;&gt; 0x20) * uVar4 + (int)(uVar1 &gt;&gt; 0x20)) &lt;&lt; 0x20;</pre>
<pre>    }</pre>
<pre>  }</pre>
<pre>  return uVar5;</pre>
<pre>}</pre>
<br />
<pre>[ASK_GPT] 4e65449fee5017c7</pre>
