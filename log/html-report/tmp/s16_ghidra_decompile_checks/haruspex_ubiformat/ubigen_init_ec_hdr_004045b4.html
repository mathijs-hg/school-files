<br />
<pre>void ubigen_init_ec_hdr(ubigen_info *ui,ubi_ec_hdr *hdr,longlong ec)</pre>
<br />
<pre>{</pre>
<pre>  uint uVar1;</pre>
<pre>  uint32_t uVar2;</pre>
<pre>  uint in_a2;</pre>
<pre>  uint in_a3;</pre>
<pre>  </pre>
<pre><span class="green">  memset(hdr,0,0x40)</span></span></pre>
<pre>  hdr-&gt</span>agic = 0x23494255;</pre>
<pre>  hdr-&gt;version = (__u8)ui-&gt;ubi_ver;</pre>
<pre>  *(uint *)&amp;hdr-&gt;ec =</pre>
<pre>       in_a3 &gt;&gt; 0x18 | in_a3 &lt;&lt; 0x18 | (in_a3 &amp; 0xff00) &lt;&lt; 8 | (in_a3 &amp; 0xff0000) &gt;&gt; 8;</pre>
<pre>  *(uint *)((int)&amp;hdr-&gt;ec + 4) =</pre>
<pre>       in_a2 &gt;&gt; 0x18 | in_a2 &lt;&lt; 0x18 | (in_a2 &amp; 0xff00) &lt;&lt; 8 | (in_a2 &amp; 0xff0000) &gt;&gt; 8;</pre>
<pre>  uVar1 = ui-&gt;vid_hdr_offs;</pre>
<pre>  hdr-&gt;vid_hdr_offset =</pre>
<pre>       uVar1 &gt;&gt; 0x18 | uVar1 &lt;&lt; 0x18 | (uVar1 &amp; 0xff00) &lt;&lt; 8 | (uVar1 &amp; 0xff0000) &gt;&gt; 8;</pre>
<pre>  uVar1 = ui-&gt;data_offs;</pre>
<pre>  hdr-&gt;data_offset = uVar1 &gt;&gt; 0x18 | uVar1 &lt;&lt; 0x18 | (uVar1 &amp; 0xff00) &lt;&lt; 8 | (uVar1 &amp; 0xff0000) &gt;&gt; 8</pre>
<pre>  ;</pre>
<pre>  uVar1 = ui-&gt;image_seq;</pre>
<pre>  hdr-&gt;image_seq = uVar1 &gt;&gt; 0x18 | uVar1 &lt;&lt; 0x18 | (uVar1 &amp; 0xff00) &lt;&lt; 8 | (uVar1 &amp; 0xff0000) &gt;&gt; 8;</pre>
<pre>  uVar2 = mtd_crc32(0xffffffff,hdr,0x3c);</pre>
<pre>  hdr-&gt;hdr_crc = uVar2 &gt;&gt; 0x18 | uVar2 &lt;&lt; 0x18 | (uVar2 &amp; 0xff00) &lt;&lt; 8 | (uVar2 &amp; 0xff0000) &gt;&gt; 8;</pre>
<pre>  return;</pre>
<pre>}</pre>
<br />
<pre>[ASK_GPT] aa0d5cc31200a0f5</pre>
