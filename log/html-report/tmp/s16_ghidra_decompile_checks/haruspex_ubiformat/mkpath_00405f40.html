<br />
<pre>char * mkpath(char *path,char *name)</pre>
<br />
<pre>{</pre>
<pre>  FILE *__stream;</pre>
<pre>  size_t __n;</pre>
<pre>  size_t sVar1;</pre>
<pre>  char *__dest;</pre>
<pre>  int *piVar2;</pre>
<pre>  char *pcVar3;</pre>
<pre>  int __errnum;</pre>
<pre>  size_t __size;</pre>
<pre>  </pre>
<pre>  __n = strlen(path);</pre>
<pre>  sVar1 = strlen(name);</pre>
<pre><span class="green">  __size = __n + sVar1 + 2</span></span></pre>
<pre><span class="green"><span class="green">  __dest = (char *)malloc(__size)</span></span></span></pre>
<pre>  if (__dest == (char *)0x0) {</pre>
<pre>    piVar2 = __errno_location();</pre>
<pre>    __errnum = *piVar2;</pre>
<pre>    fprintf(stderr,"%s: error!: cannot allocate %d bytes\n","libubi",__size);</pre>
<pre>    __stream = stderr;</pre>
<pre>    pcVar3 = strerror(__errnum);</pre>
<pre>    fprintf(__stream,"%*serror %d (%s)\n",8,&amp;DAT_0040e38c,__errnum,pcVar3);</pre>
<pre>  }</pre>
<pre>  else {</pre>
<pre><span class="green">    memcpy(__dest,path,__n)</span></span></pre>
<pre>    if ((__dest + __n)[-1] != '/') {</pre>
<pre>      __dest[__n] = '/';</pre>
<pre><span class="green">      __n = __n + 1</span></span></pre>
<pre>    }</pre>
<pre><span class="green">    memcpy(__dest + __n,name,sVar1 + 1)</span></span></pre>
<pre>  }</pre>
<pre>  return __dest;</pre>
<pre>}</pre>
<br />
<pre>[ASK_GPT] aeffb44ef7c4a557</pre>
